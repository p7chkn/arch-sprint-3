@startuml
' Defining Entities
entity "User" {
*user_id : UUID
--
name : VARCHAR
email : VARCHAR
phone : VARCHAR
}

entity "Home" {
*home_id: uuid
--
*user_id: uuid <<FK>>
*title: varchar
}

entity "Module" {
*module_id: uuid
--
*home_id: uuid <<FK>>
title: varchar
}

entity "Device" {
*device_id: uuid
--
*module_id: uuid <<FK>>
title: varchar
*device_type: enum
*device_vendor: enum
serial_number: varchar
*device_link: varchar
}

entity "TelemetryLog" {
*telemetry_log_id: uuid
--
*device_id: uuid <<FK>>
*created_at: timestamp
*value: varchar
}

entity "Scenarios" {
*scenario_id: uuid
--
*user_id: uuid <<FK>>
title: varchar
}

entity "Command" {
*command_id: uuid
--
*scenario_id: uuid <<FK>>
*device_id: uuid <<FK>>
command_data: varchar
}

' Defining Relationships
"User" ||--o{ "Home"
"Home" ||--o{ "Module"
"Device" }o--|{ "Module"
"TelemetryLog" ||--o{ "Device"
"User" }o--|| "Scenarios"
"Scenarios" }|--|| "Command"
"Command" ||--|{ "Device"
@enduml
